generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model order_detail {
  id         Int              @id @default(autoincrement())
  order_id   Int
  books_id   Int
  user_id    Int
  quantity   Int
  totalPrice Int
  createAt   DateTime         @default(now())
  updateAt   DateTime         @updatedAt
  orderId    order_users_list @relation(fields: [order_id], references: [id])
  booksId    books            @relation(fields: [books_id], references: [id])
  userId     users            @relation(fields: [user_id], references: [id])
}

model order_users_list {
  id            Int            @id @default(autoincrement())
  customer_name String
  order_type    String
  pickup_date   String
  createAt      DateTime       @default(now())
  updateAt      DateTime       @updatedAt
  orderDetails  order_detail[]
}

model books {
  id           Int            @id @default(autoincrement())
  name         String         @unique
  author       String
  price        Int
  quantity     Int
  image        String?
  createAt     DateTime       @default(now())
  updateAt     DateTime       @updatedAt
  orderDetails order_detail[]
}

model users {
  id           Int            @id @default(autoincrement())
  name         String         @unique
  email        String         @unique
  password     String
  role         Role           @default(visitor)
  createAt     DateTime       @default(now())
  updateAt     DateTime       @updatedAt
  orderDetails order_detail[]
}

enum Role {
  admin
  member
  visitor
}
